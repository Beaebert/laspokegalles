document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".galeria-galletas"),e=document.querySelector("#listaCarrito"),i=document.querySelector("#vaciarCarrito");let n=[];function r(){a(),n.forEach(t=>{const i=document.createElement("li");i.innerHTML=`\n        <img src="${t.imagen}" width="50">\n        <p>${t.titulo}</p>\n        <p>${t.cantidad}</p>\n        <a href="#" class="borrar-producto" data-id="${t.id}"> X </a>\n      `,e.appendChild(i)})}function a(){for(;e.firstChild;)e.removeChild(e.firstChild)}localStorage.setItem("carrito",JSON.stringify(n)),t.addEventListener("click",function(t){t.preventDefault(),t.target.classList.contains("agregar-carrito")&&function(t){const e={imagen:t.querySelector("img").src,titulo:t.querySelector("p").textContent,id:t.querySelector("button").getAttribute("data-id"),cantidad:1},i=n.some(t=>t.id===e.id);if(i){const t=n.map(t=>t.id===e.id?(t.cantidad++,t):t);n=[...t]}else n=[...n,e];r()}(t.target.parentElement)}),e.addEventListener("click",function(t){if(t.preventDefault(),t.target.classList.contains("borrar-producto")){const e=t.target.getAttribute("data-id");n=n.filter(t=>t.id!==e),r()}}),i.addEventListener("click",function(){n=[],a()})});